<?xml version="1.0" encoding="UTF-8" ?>
<testcase version="3" baseURL="http://localhost:8080" xmlns="http://xlt.xceptance.com/xlt-script/2">
  <action name="OpenStartPage"/>
  <command name="open" value="/"/>
  <command name="assertText" target="id=titleIndex" value="Check out our new panorama posters!"/>
  <command name="clickAndWait" target="id=btnShowLoginForm"/>
  <action name="StartRegistration"/>
  <command name="clickAndWait" target="id=linkRegister"/>
  <command name="assertText" target="//*[@id='formRegister']//legend[1]" value="Create an account"/>
  <action name="RegisterWithWrongPassword">
    <comment>The entered passwords don't match.</comment>
  </action>
  <command name="type" target="id=name" value="Doe"/>
  <command name="type" target="id=firstName" value="John"/>
  <command name="type" target="id=eMail" value="john@test.com"/>
  <command name="type" target="id=password" value="topsecret"/>
  <command name="type" target="id=passwordAgain" value="wrongpassword"/>
  <command name="clickAndWait" target="id=btnRegister"/>
  <command name="assertElementPresent" target="xpath=id('errorMessage')"/>
  <command name="assertText" target="//*[@id='errorMessage']//strong[1]" value="The passwords you entered dont match. Please try again."/>
  <action name="Register"/>
  <command name="assertText" target="id=name" value="Doe"/>
  <command name="assertText" target="id=firstName" value="John"/>
  <command name="assertText" target="id=eMail" value="john@test.com"/>
  <command name="type" target="id=password" value="topsecret"/>
  <command name="type" target="id=passwordAgain" value="topsecret"/>
  <command name="clickAndWait" target="id=btnRegister"/>
  <command name="assertText" target="link=Hi! John" value="Hi! John"/>
  <module name="module.DeleteAccount">
    <parameter name="firstName" value="John"/>
    <parameter name="password" value="topsecret"/>
  </module>
</testcase>
