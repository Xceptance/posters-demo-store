<#import "../layout/defaultLayoutWebShop.ftl.html" as layout>
	<@layout.myLayout "The ultimate webshop">

		<div class="row row-pb-lg  justify-content-center">

		</div>
		<div class="container">

			<div class="row  justify-content-center h2fwpr">
				<div class="col-lg-6">

					<div class="col-lg-12 colorlib-form">
						<div id="titlePaymentOverview" class="header-container"><span
								class="h2">${i18n("titlePaymentInformation")}</span></div>
						<#list paymentOverview as payment>
							<#if (payment_index + 3) % 3==0>
								<div class="container-fluid">
									<ul class="row">
							</#if>
							<li class="col-xs-12 col-lg-12 col-sm-6 col-md-4 list-unstyled" id="payment${payment_index}">
								<ul class="list-unstyled address col-lg-6">
										<li class="row">
											<div class="col-xs-12 col-sm-4"><strong>${i18n("titleName")}:</strong></div>
											<div class="col-xs-12 col-sm-8 paymentName"><strong>${payment.name}</strong>
											</div>
										</li>
										<li class="row">
											<div class="col-xs-12 col-sm-4">${i18n("titleCreditCard")}:</div>
											<div class="col-xs-12 col-sm-8 paymentCardNumber">
												${payment.getCardNumberCryptic()}</div>
										</li>
										<li class="row">
											<div class="col-xs-12 col-sm-4">${i18n("titleValidTo")}:</div>
											<div class="col-xs-12 col-sm-8"><span
													class="expMonth">${payment.getMonthLeadingZero()}</span>/<span
													class="expYear">${payment.year}</span></div>
										</li>
									
								</ul>
								
								<ul class="list-unstyled address col-lg-12">
									<li>
										<div class="row">
											<div class="col-xs-12 col-sm-3 text-center mb-3">
												<form action="${contextPath}/confirmDeletePayment" method="post"
													>
													<input class="cardId${payment.id}" name="cardId" type="hidden"
														value=${payment.id}>
													<button class="btn btn-danger btnDeletePayment" 
														id="btnDeletePayment${payment_index}"
														name="btnDeletePayment${payment_index}"
														type="submit">${i18n('buttonDelete')}</button>
												</form>
											</div>
											<div class="col-xs-12 col-sm-3 text-center mb-3">
												<form action="${contextPath}/updatePaymentMethod" method="post"
													>
													<input class="cardId${payment.id}" name="cardId" type="hidden"
														value=${payment.id}>
													<button class="btn btn-primary btnChangePayment" style="padding-left: 27px;"
														id="btnChangePayment${payment_index}"
														name="btnChangePayment${payment_index}"
														type="submit">${i18n("buttonEdit")}</button>
												</form>
											</div>
										</div>
									</li>
									
								</ul>
							</li>
							<#if (payment_index + 1) % 3==0>
								</ul>
					</div>
					</#if>
					<#if !payment_has_next && (payment_index + 1) % 3 !=0>
						</ul>
				</div>
				</#if>
				</#list>
				<div class="col-xs-12">
					<a id="linkAddNewPayment" href="${contextPath}/addPaymentToCustomer"
						title="${i18n('paymentMethodAddNew')}">${i18n('paymentMethodAddNew')}</a>
				</div>
			</div>
		</div>
		</div>
		</div>
	</@layout.myLayout>