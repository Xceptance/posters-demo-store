<#import "../layout/defaultLayoutWebShop.ftl.html" as layout>
<@layout.myLayout "The ultimate webshop"> 

<h1>Address overview</h1>

<#if billingAddresses??>
<h3>Billing address</h3>
<#list billingAddresses as address>
	<#if (address_index + 3) % 3 ==0>
      	<div class="row">
      		<ul class="inline">
    </#if>
      			<li class="span4">
      					<p>${address.name}<p>
      					<p>${address.addressline1}</p>
      					<p>${address.addressline2}</p>
      					<p>${address.zip} ${address.city}</p>
      					<p>${address.state} ${address.country}</p>
      					<p>
      						<form action="/updateBillingAddress" method="post">
    							<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
    							<button class="btn"id="submit" name="submit" type="submit">Change detail</button>
							</form>
      						<form action="/deleteBillingAddress" method="post">
    							<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
    							<button class="btn"id="submit" name="submit" type="submit">Delete</button>
							</form>
      					</p>
      			</li>
		<#if (address_index + 1) % 3 ==0>
      		</ul>
      	</div>
      	</#if>
      	<#if !address_has_next && (address_index + 1) % 3 !=0>
      	    </ul>
      	</div>
      	</#if>
</#list>
</#if>

<div class="span4 offset6">
	<a href="/addBillingAddressToCustomer">Add new billing address</a>
</div>

<#if deliveryAddresses??>
<div class="row">
	<div class="span4">
		<h3>Delivery address</h3>
	</div>
</div>
<#list deliveryAddresses as address>
	<#if (address_index + 3) % 3 ==0>
      	<div class="row">
      		<ul class="inline">
    </#if>
      			<li class="span4">
      					<p>${address.name}<p>
      					<p>${address.addressline1}</p>
      					<p>${address.addressline2}</p>
      					<p>${address.zip} ${address.city}</p>
      					<p>${address.state} ${address.country}</p>
      					<p>
      						<form action="/updateDeliveryAddress" method="post">
    							<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
    							<button class="btn"id="submit" name="submit" type="submit">Change detail</button>
							</form>
      						<form action="/deleteDeliveryAddress" method="post">
    							<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
    							<button class="btn"id="submit" name="submit" type="submit">Delete</button>
							</form>
      					</p>
      			</li>
		<#if (address_index + 1) % 3 ==0>
      		</ul>
      	</div>
      	</#if>
      	<#if !address_has_next && (address_index + 1) % 3 !=0>
      	    </ul>
      	</div>
      	</#if>
</#list>
</#if>

<div class="span4 offset6">
	<a href="/addDeliveryAddressToCustomer">Add new delivery address</a>
</div>

</@layout.myLayout>