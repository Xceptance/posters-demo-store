<#import "../layout/defaultLayoutWebShop.ftl.html" as layout>
<@layout.myLayout "The ultimate webshop">
<fieldset>
	<legend id="titleAddressOverview"><h2>${i18n("titleAddressOverview")}</h2></legend>
	<!-- print available shipping addresses -->
	<#if shippingAddresses??>
	<legend id="titleDelAddr"><h3>${i18n("titleShippingAddress")}</h3></legend>
	<#list shippingAddresses as address>
		<#if (address_index + 3) % 3 ==0>
      	<div class="container-fluid">
      		<ul class="list-inline">
    	</#if>
    			<li class="col-xs-12 col-sm-6 col-lg-3 thumbnail" id="delAddr${address_index}">
      				<address>
       					<ul class="list-unstyled container-fluid address">
	      					<li class="name" title="${i18n('addressFullName')}"><strong>${address.name}</strong></li>
	      					<li class="company" title="${i18n('addressCompany')}">${address.company}</li>
	      					<li class="addressLine" title="${i18n('addressLine')}">${address.addressLine}</li>
	      					<li><span class="city" title="${i18n('addressCity')}">${address.city}</span>, <span class="state" title="${i18n('addressState')}">${address.state}</span> <span class="zip" title="${i18n('addressZip')}">${address.zip}</span></li>
	      					<li class="country" title="${i18n('addressCountry')}">${address.country}</li>
      					</ul>
      				</address>
       				<div class="container-fuid">
	      				<form action="${contextPath}/confirmDeleteShippingAddress" method="post" class="col-xs-12 col-sm-4 col-lg-3">
	    					<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
	    					<button class="btn btn-danger" id="btnDeleteDelAddr${address_index}" name="btnDeleteDelAddr${address_index}" type="submit">${i18n("buttonDelete")}</button>
						</form>
	      				<form action="${contextPath}/updateShippingAddress" method="post" class="col-xs-12 col-sm-8 col-lg-9">
	    					<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
	    					<button class="btn btn-success" id="btnChangeDelAddr${address_index}" name="btnChangeDelAddr${address_index}" type="submit">${i18n("buttonChangeDetail")}</button>
						</form>
					</div>
      			</li>
		<#if (address_index + 1) % 3 ==0>
      		</ul>
      	</div>
      	</#if>
      	<#if !address_has_next && (address_index + 1) % 3 !=0>
      	    </ul>
      	</div>
      	</#if>
	</#list>
	</#if>
	<!-- add new shipping address -->
	<div class="container-fluid">
		<div class="col-xs-12">
			<a id="linkAddNewDelAddr" href="${contextPath}/addShippingAddressToCustomer">${i18n("shippingAddressAddNew")}</a>
		</div>
	</div>

	<!-- print available billing addresses -->
	<#if billingAddresses??>
	<legend id="titleBillAddr"><h3>${i18n("titleBillingAddress")}</h3></legend>
	<#list billingAddresses as address>
		<#if (address_index + 3) % 3 ==0>
      	<div class="container-fluid">
      		<ul class="list-inline">
    	</#if>
    			<li class="col-xs-12 col-sm-6 col-lg-3 thumbnail" id="billAddr${address_index}">
      				<address>
       					<ul class="list-unstyled container-fluid address">
	      					<li class="name" title="${i18n('addressFullName')}"><strong>${address.name}</strong></li>
	      					<li class="company" title="${i18n('addressCompany')}">${address.company}</li>
	      					<li class="addressLine" title="${i18n('addressLine')}">${address.addressLine}</li>
	      					<li><span class="city" title="${i18n('addressCity')}">${address.city}</span>, <span class="state" title="${i18n('addressState')}">${address.state}</span> <span class="zip" title="${i18n('addressZip')}">${address.zip}</span></li>
	      					<li class="country" title="${i18n('addressCountry')}">${address.country}</li>
      					</ul>
      				</address>
      				<div class="container-fuid">
	      				<form action="${contextPath}/confirmDeleteBillingAddress" method="post" class="col-xs-12 col-sm-4 col-lg-3">
	    					<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
	    					<button class="btn btn-danger" id="btnDeleteBillAddr${address_index}" name="btnDeleteBillAddr${address_index}" type="submit">${i18n("buttonDelete")}</button>
						</form>
	      				<form action="${contextPath}/updateBillingAddress" method="post" class="col-xs-12 col-sm-8 col-lg-9">
	    					<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
	    					<button class="btn btn-success" id="btnChangeBillAddr${address_index}" name="btnChangeBillAddr${address_index}" type="submit">${i18n("buttonChangeDetail")}</button>
						</form>
      				</div>
      			</li>
		<#if (address_index + 1) % 3 == 0>
      		</ul>
      	</div>
      	</#if>
      	<#if !address_has_next && (address_index + 1) % 3 != 0>
      	    </ul>
      	</div>
      	</#if>
	</#list>
	</#if>
	<!-- add new billing address -->
	<div class="container-fluid">
		<div class="col-xs-12">
			<a id="linkAddNewBillAddr" href="${contextPath}/addBillingAddressToCustomer">${i18n("billingAddressAddNew")}</a>
		</div>
	</div>
</fieldset>
</@layout.myLayout>