<#import "../layout/defaultLayoutWebShop.ftl.html" as layout>
<@layout.myLayout "The ultimate webshop"> 
	<h1>${i18n("titleAddressOverview")}</h1>
	<!-- print available delivery addresses -->
	<#if deliveryAddresses??>
	<h3>${i18n("titleDeliveryAddress")}</h3>
	<#list deliveryAddresses as address>
		<#if (address_index + 3) % 3 ==0>
      	<div class="row-fluid">
      		<ul class="inline">
    	</#if>
    			<li class="span4">
      				<address>
      					<strong>${address.name}</strong><br>
      					${address.addressline1}<br>
      					${address.addressline2}<br>
      					${address.zip} ${address.city}<br>
      					${address.state} ${address.country}<br>
      				</address>
      				<form action="/updateDeliveryAddress" method="post">
    					<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
    					<button class="btn"id="submit" name="submit" type="submit">${i18n("buttonChangeDetail")}</button>
					</form>
      				<form action="/deleteDeliveryAddress" method="post">
    					<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
    					<button class="btn btn-danger"id="submit" name="submit" type="submit">${i18n("buttonDelete")}</button>
					</form>
      			</li>
		<#if (address_index + 1) % 3 ==0>
      		</ul>
      	</div>
      	</#if>
      	<#if !address_has_next && (address_index + 1) % 3 !=0>
      	    </ul>
      	</div>
      	</#if>
	</#list>
	</#if>
	<!-- add new delivery address -->
	<div class="row-fluid">
		<div class="span4">
			<a href="/addDeliveryAddressToCustomer">${i18n("deliveryAddressAddNew")}</a>
		</div>
	</div>

	<!-- print available billing addresses -->
	<#if billingAddresses??>
	<h3>${i18n("titleBillingAddress")}</h3>
	<#list billingAddresses as address>
		<#if (address_index + 3) % 3 ==0>
      	<div class="row-fluid">
      		<ul class="inline">
    	</#if>
    			<li class="span4">
      				<address>
      					<strong>${address.name}</strong><br>
      					${address.addressline1}<br>
      					${address.addressline2}<br>
      					${address.zip} ${address.city}<br>
      					${address.state} ${address.country}<br>
      				</address>
      				<form action="/updateBillingAddress" method="post">
    					<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
    					<button class="btn"id="submit" name="submit" type="submit">${i18n("buttonChangeDetail")}</button>
					</form>
      				<form action="/deleteBillingAddress" method="post">
    					<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
    					<button class="btn btn-danger"id="submit" name="submit" type="submit">${i18n("buttonDelete")}</button>
					</form>
      			</li>
		<#if (address_index + 1) % 3 ==0>
      		</ul>
      	</div>
      	</#if>
      	<#if !address_has_next && (address_index + 1) % 3 !=0>
      	    </ul>
      	</div>
      	</#if>
	</#list>
	</#if>
	<!-- add new billing address -->
	<div class="row-fluid">
		<div class="span4">
			<a href="/addBillingAddressToCustomer">${i18n("billingAddressAddNew")}</a>
		</div>
	</div>
</@layout.myLayout>