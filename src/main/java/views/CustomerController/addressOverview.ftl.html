<#import "../layout/defaultLayoutWebShop.ftl.html" as layout>
<@layout.myLayout "The ultimate webshop"> 
	<h1 id="titleAddressOverview">${i18n("titleAddressOverview")}</h1>
	<!-- print available shipping addresses -->
	<#if shippingAddresses??>
	<h3 id="titleDelAddr">${i18n("titleShippingAddress")}</h3>
	<#list shippingAddresses as address>
		<#if (address_index + 3) % 3 ==0>
      	<div class="row">
      		<ul class="inline">
    	</#if>
    			<li class="col-md-4" id="delAddr${address_index}">
      				<address>
      					<strong>${address.name}</strong><br>
      					${address.company}<br>
      					${address.addressLine}<br>
      					${address.city}, ${address.state} ${address.zip}<br>
      					${address.country}<br>
      				</address>
      				<form action="${contextPath}/updateShippingAddress" method="post">
    					<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
    					<button class="btn" id="btnChangeDelAddr${address_index}" name="btnChangeDelAddr${address_index}" type="submit">${i18n("buttonChangeDetail")}</button>
					</form>
      				<form action="${contextPath}/confirmDeleteShippingAddress" method="post">
    					<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
    					<button class="btn btn-danger" id="btnDeleteDelAddr${address_index}" name="btnDeleteDelAddr${address_index}" type="submit">${i18n("buttonDelete")}</button>
					</form>
      			</li>
		<#if (address_index + 1) % 3 ==0>
      		</ul>
      	</div>
      	</#if>
      	<#if !address_has_next && (address_index + 1) % 3 !=0>
      	    </ul>
      	</div>
      	</#if>
	</#list>
	</#if>
	<!-- add new shipping address -->
	<div class="row">
		<div class="col-md-4">
			<a id="linkAddNewDelAddr" href="${contextPath}/addShippingAddressToCustomer">${i18n("shippingAddressAddNew")}</a>
		</div>
	</div>

	<!-- print available billing addresses -->
	<#if billingAddresses??>
	<h3 id="titleBillAddr">${i18n("titleBillingAddress")}</h3>
	<#list billingAddresses as address>
		<#if (address_index + 3) % 3 ==0>
      	<div class="row">
      		<ul class="inline">
    	</#if>
    			<li class="col-md-4" id="billAddr${address_index}">
      				<address>
      					<strong>${address.name}</strong><br>
      					${address.company}<br>
      					${address.addressLine}<br>
      					 ${address.city}, ${address.state} ${address.zip}<br>
      					${address.country}<br>
      				</address>
      				<form action="${contextPath}/updateBillingAddress" method="post">
    					<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
    					<button class="btn" id="btnChangeBillAddr${address_index}" name="btnChangeBillAddr${address_index}" type="submit">${i18n("buttonChangeDetail")}</button>
					</form>
      				<form action="${contextPath}/confirmDeleteBillingAddress" method="post">
    					<input name="addressId" id="addressId" type="hidden" value=${address.id}></input>
    					<button class="btn btn-danger" id="btnDeleteBillAddr${address_index}" name="btnDeleteBillAddr${address_index}" type="submit">${i18n("buttonDelete")}</button>
					</form>
      			</li>
		<#if (address_index + 1) % 3 ==0>
      		</ul>
      	</div>
      	</#if>
      	<#if !address_has_next && (address_index + 1) % 3 !=0>
      	    </ul>
      	</div>
      	</#if>
	</#list>
	</#if>
	<!-- add new billing address -->
	<div class="row">
		<div class="col-md-4">
			<a id="linkAddNewBillAddr" href="${contextPath}/addBillingAddressToCustomer">${i18n("billingAddressAddNew")}</a>
		</div>
	</div>
</@layout.myLayout>