<#macro myLayout title="The Poster Demo Store - The Ultimate Online Shop">
	<!DOCTYPE html>
	<html lang="en">

	<head>

		<title>${i18n("titlePageShop")}</title>

		<!--Let browser know website is optimized for mobile-->
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta charset="utf-8">

		<!-- Icomoon Icon Fonts-->
		<link rel="stylesheet" href="${contextPath}/assets/css/icomoon.css">

		<!-- Bootstrap  -->
		<link rel="stylesheet" href="${contextPath}/assets/css/bootstrap.css">
		<link rel="stylesheet" href="${contextPath}/assets/css/bootstrap-grid.css">
		<link rel="stylesheet" href="${contextPath}/assets/css/bootstrap-reboot.css">
		<link rel="stylesheet" href="${contextPath}/assets/css/bootstrap-utilities.css">

		<!-- Theme style  -->
		<link rel="stylesheet" href="${contextPath}/assets/css/style_reworked.css">

		<script type="text/javascript">
			var CONTEXT_PATH = '${contextPath}';
		</script>
		<script src="${contextPath}/assets/js/posterMiniCart.js"></script>
	</head>

	<body>
		<!-- header -->
		<header>
			<#if checkout??>
				<#include "headerCheckout.ftl.html" />
				<#else>
					<#include "header.ftl.html" />
			</#if>
		</header>

		<!-- main/content -->
		<main> <!-- message: no java script -->
			<noscript>
				<div class="section">
					<div class="container">
						<div class="noscriptmsg card">
							<p>${i18n('errorNoJavaScript')}</p>
						</div>
					</div>
				</div>
			</noscript>

			<!-- messages -->
			<div id="alertPlaceholder">
				
			</div>

			<!-- body -->
			<div id="main">
				<#nested />
			</div>

			<div id="js-top" class="gototop" style="display: none;">
				<a onclick="toTopFunction()" id="js-gotop"><i class="icon-arrow-up2"></i></a>
			</div>
		</main>

		<!-- footer -->
		<#include "footer.ftl.html" />

		<script src="${contextPath}/assets/js/poster.js"></script>
		<script>
			var ready = (callback) => {
  					if (document.readyState != "loading") callback();
  					else document.addEventListener("DOMContentLoaded", callback);
				}
		</script>
		<#if flash.error??>
			<script>
				ready(() => { 
					var alertPlaceholder = document.getElementById("alertPlaceholder");
					var alertWrapper = document.createElement('div');
					alertWrapper.classList.add("alert");
					alertWrapper.classList.add("alert-danger");
					alertWrapper.classList.add("alert-dismissable");
					alertWrapper.innerHTML = [
						'	<div>'+"${flash.error}"+'</div>',
						'	<button type="button" class="btn-close" data-bs-dismiss="alert"></button>'
						].join('')
					alertPlaceholder.append(alertWrapper)
				});
			</script>
		</#if>
		<#if flash.success??>
			<script>
				ready(() => { 
					var alertPlaceholder = document.getElementById("alertPlaceholder");
					var alertWrapper = document.createElement('div');
					alertWrapper.classList.add("alert");
					alertWrapper.classList.add("alert-success");
					alertWrapper.classList.add("alert-dismissable");
					alertWrapper.innerHTML = [
						'	<div>'+"${flash.success}"+'</div>',
						'	<button type="button" class="btn-close" data-bs-dismiss="alert"></button>'
						].join('')
					alertPlaceholder.append(alertWrapper)
				});
			</script>
		</#if>

		<!-- Bootstrap Bundle (v5.3.2 including popper)-->
		<script src="${contextPath}/assets/js/bootstrap.bundle.js"></script>
		<!-- Main -->
		<script src="${contextPath}/assets/js/main.js"></script>
	</body>

	</html>
</#macro>