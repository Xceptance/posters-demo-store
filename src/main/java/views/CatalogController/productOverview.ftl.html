<#import "../layout/defaultLayoutWebShop.ftl.html" as layout>
<@layout.myLayout "The ultimate webshop">    	
	<h1 id="titleCategoryName">${(category.name)!}</h1>
	<h1 id="titleSearchText">${(searchText)!}</h1>
	<h1 id="titleNoResults">${(noResults)!}</h1>
	<!-- paging -->
	<div id="pagination"></div>
	<script type="text/javascript">
		var options = {
			currentPage: ${currentPage},
            totalPages: ${totalPages},
            alignment:'center',
            onPageClicked: function(e,originalEvent,type,page){
            	var isSearch = ${(isSearch)};
            	var nextPage;
            	if(isSearch == true) {
            		nextPage = "/search/" + page + "?searchText=${(searchTerm)!}";
            	}
            	else {
            		nextPage = page;
            	}
            	window.location.href = nextPage;
            }
        }
        $('#pagination').bootstrapPaginator(options);
	</script>
	<!-- products -->
	<div id="productOverview">
	<#list products as pro>
    	<#if (pro_index + 3) % 3 ==0>
    		<div class="row-fluid">
      			<ul class="thumbnails">
      	</#if>
      				<li class="span4">
      					<div id="product${pro_index}" class="thumbnail">
      						<a href=/productDetail/${pro.url?url('UTF-8')}><img data-src="/assets/js/holder.js/300x200" alt="" src=${pro.imageURL}></img></a>
      						<h3 id="product${pro_index}Name">${pro.name}</h3>
      						<p id="product${pro_index}DescriptionOverview">${pro.descriptionOverview}</p>
      						<p id="product${pro_index}Price">${i18n("priceStart")} ${pro.getPriceAsString()}${currency}</p>
      					</div>
      				</li>
      	<#if (pro_index + 1) % 3 ==0>
      			</ul>
      		</div>
      	</#if>
      	<#if !pro_has_next && (pro_index + 1) % 3 !=0>
      	    	</ul>
      		</div>
      	</#if>
	</#list>
	</div>
</@layout.myLayout>
