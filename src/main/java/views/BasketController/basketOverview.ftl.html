<#import "../layout/defaultLayoutWebShop.ftl.html" as layout>
<@layout.myLayout "The ultimate webshop">    	

	<h1>Basket</h1>
	
	<table class="table" table-bordered>
		
		<#list basketProducts as basketProduct>
		<tr>
			<td><a href=/productDetail/${basketProduct.product.url}><img data-src="/assets/js/holder.js/150x100" alt="" src=${basketProduct.product.imageURL} width="150"></img></a></td>
			<td>${basketProduct.product.name}</td>
			<td>${basketProduct.product.descriptionOverview}</td>
			<td>${basketProduct.product.price}</td>
			<td>
				<form action="/updateProductCount" method="post">
      				<input type="number" id="productCount" name="productCount" value=${basketProduct.countProduct}>
      				<input type="hidden" id="productName" name="productName" value=${basketProduct.product.id}>
      				<button class="btn"id="submit" name="submit" type="submit">Update quantity</button>
      			</form>
			</td>
			<td>
				<form action="/deleteFromBasket" method="post">
      				<input type="hidden" id="productName" name="productName" value=${basketProduct.product.id}>
      				<button class="btn"id="submit" name="submit" type="submit">Remove from basket</button>
      			</form>
			</td>
		</tr>
		</#list>
	</table>
	
	<h3>Total price: ${totalPrice}$</h3>
	
	<form action="/checkout" method="post">
      	<input type="hidden" id="basketId" name="basketId" value=${basketId}>
      	<button class="btn"id="submit" name="submit" type="submit">Proceed to Checkout</button>
    </form>

</@layout.myLayout>
