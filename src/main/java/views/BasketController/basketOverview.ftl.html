<#import "../layout/defaultLayoutWebShop.ftl.html" as layout>
<@layout.myLayout "The ultimate webshop">    	
	<h1 id="titleBasket">${i18n("basketOverviewTitle")}</h1>
	<table class="table" table-bordered>
		<#list basketProducts as basketProduct>
			<tr id="product${basketProduct_index}">
				<td><a href=/productDetail/${basketProduct.product.url?url('UTF-8')}><img data-src="/assets/js/holder.js/150x100" alt="" src=${basketProduct.product.imageURL} width="150"></img></a></td>
				<td id="productName">${basketProduct.product.name}</td>
				<td id="productDescriptionOverview">${basketProduct.product.descriptionOverview}</td>
				<td id="productPrice">${basketProduct.product.price}${currency}</td>
				<td>
					<form class="form-inline" action="/updateProductCount" method="post">
	      				<input class="input-mini" type="number" id="productCount" name="productCount" value=${basketProduct.countProduct}>
      					<input type="hidden" id="productName" name="productName" value=${basketProduct.product.id}>
      					<button class="btn" id="btnUpdateProdCount" name="btnUpdateProdCount" type="submit">${i18n("basketOverviewUpdateQuantity")}</button>
   	   				</form>
				</td>
				<td>
					<form action="/deleteFromBasket" method="post">
      					<input type="hidden" id="productName" name="productName" value=${basketProduct.product.id}>
      					<button class="btn" id="btnRemoveProduct" name="btnRemoveProduct" type="submit">${i18n("basketOverviewRemoveFromBasket")}</button>
      				</form>
				</td>
			</tr>
		</#list>
	</table>

	<h3 id="totalPrice">${i18n("basketOverviewTotalPrice")}: ${totalPrice}${currency}</h3>

	<form action="${applUrlHttps}/checkout" method="post">
		<input type="hidden" id="basketId" name="basketId" value=${basketId}>
		<button class="btn" id="btnStartCheckout" name="btnStartCheckout" type="submit">${i18n("basketOverviewStartCheckout")}</button>
	</form>
</@layout.myLayout>
