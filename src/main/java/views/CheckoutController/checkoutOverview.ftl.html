<#import "../layout/defaultLayoutWebShop.ftl.html" as layout>
<@layout.myLayout "The ultimate webshop">
	<h1 id="titleOrderOverview">${i18n("titleOrderOverview")}</h1>
	<!-- print products -->
	<h3 id="titleProducts">${i18n("titleProducts")}</h3>
	<table class="table" table-bordered>
		<#list orderProducts as orderProduct>
		<tr id="product${orderProduct_index}">
			<td><a href=/productDetail/${orderProduct.product.url?url('UTF-8')}><img data-src="/assets/js/holder.js/150x100" alt="" src=${orderProduct.product.imageURL} width="150"></img></a></td>
			<td id="product${orderProduct_index}Name">${orderProduct.product.name}</td>
			<td id="product${orderProduct_index}DescriptionOverview">${orderProduct.product.descriptionOverview}</td>
			<td id="product${orderProduct_index}Price">${orderProduct.product.price}${currency}</td>
			<td id="product${orderProduct_index}Count">${orderProduct.countProduct}</td>
		</tr>
		</#list>
	</table>
	<!-- print total price -->
	<div class="row-fluid" id="tax">
		<div class="text-right">
			<h3>${i18n("checkoutOverviewSalesTax")}: ${order.tax*100}%</h3>
		</div>
	</div>
	<div class="row-fluid" id="shippingCosts">
		<div class="text-right">
			<h3>${i18n("checkoutOverviewShippingCosts")}: ${order.shippingCosts}${currency}</h3>
		</div>
	</div>
	<div class="row-fluid" id="totalCosts">
		<div class="text-right">
			<h3>${i18n("checkoutOverviewTotalCosts")}: ${order.totalCosts}${currency}</h3>
		</div>
	</div>
	<div class="row-fluid">
		<ul>
			<!-- print delivery address -->
			<li class="span4">
				<h3>${i18n("titleDeliveryAddress")}</h3>
				<address  id="delAddr">
      				<strong>${order.deliveryAddress.name}</strong><br>
      				${order.deliveryAddress.company}<br>
      				${order.deliveryAddress.addressLine}<br>
      				${order.deliveryAddress.city}, ${order.deliveryAddress.state} ${order.deliveryAddress.zip}<br>
      				${order.deliveryAddress.country}<br>
      			</address>
			</li>
			<!-- print billing address -->
			<li class="span4">
				<h3>${i18n("titleBillingAddress")}</h3>
				<address id="billAddr">
      				<strong>${order.billingAddress.name}</strong><br>
      				${order.billingAddress.company}<br>
      				${order.billingAddress.addressLine}<br>
      				${order.billingAddress.city}, ${order.billingAddress.state} ${order.billingAddress.zip}<br>
      				${order.billingAddress.country}<br>
      			</address>
			</li>
			<!-- print credit card -->
			<li class="span4">
				<h3>${i18n("titlePaymentInformation")}</h3>
				<address  id="payment">
      				${i18n("titleName")}: ${order.creditCard.name}<br>
      				${i18n("titleCreditCard")}: ${order.creditCard.getCardNumberCryptic()}<br>
      				${i18n("titleValidTo")}: ${order.creditCard.getMonthLeadingZero()} ${order.creditCard.year}<br>
      			</address>
			</li>
		</ul>
	</div>
	<!-- order button -->
	<div class="row-fluid">
		<div class="text-right">
			<form action="/checkoutCompleted" method="post">
    			<button class="btn" id="btnOrder" name="btnOrder" type="submit">${i18n("checkoutOverviewOrderWithCosts")}</button>
			</form>
		</div>
	</div>
</@layout.myLayout>